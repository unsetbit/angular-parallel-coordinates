!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.angularParallelCoordinates=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"8amN2b":[function(b,c,d){(function(e){!function(b){if("object"==typeof d&&"undefined"!=typeof c)c.exports=b();else if("function"==typeof a&&a.amd)a([],b);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof e?f=e:"undefined"!=typeof self&&(f=self),f.parallelCoordinatesChart=b()}}(function(){return function a(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof b&&b;if(!i&&j)return j(h,!0);if(g)return g(h,!0);throw new Error("Cannot find module '"+h+"'")}var k=d[h]={exports:{}};c[h][0].call(k.exports,function(a){var b=c[h][1][a];return f(b?b:a)},k,k.exports,a,c,d,e)}return d[h].exports}for(var g="function"==typeof b&&b,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b){function c(a,b){return d3.extent(b,function(b){return+b[a]})}a("./customEventPolyfill");var d=a("./interpolator"),e=a("./defaultColorScaleGenerator");b.exports=function(a){function b(a){l.margin("margin"in a?a.margin:[30,10,10,10]),l.width("width"in a?a.width:1560),l.height("height"in a?a.height:500),l.domain("domain"in a?a.domain:c),l.highlight("highlight"in a?a.highlight:""),l.filters("filters"in a?a.filters:{}),l.interpolator("interpolator"in a?a.interpolator:d),l.color("color"in a?a.color:e),"select"in a&&l.select(a.select)}function f(a){if(a){a.selectAll(".dimension.selected").classed("selected",!1),a.selectAll(".dimension").each(function(a){a===p&&d3.select(this).classed("selected",!0)});var b=a.selectAll("g.datalines path");if(!p)return b.style("stroke","");if(b&&b.length){var c=r(p,a.data()[0]);b.style("stroke",function(a){return c(a[p])})}}}function g(){return d3.behavior.drag().on("dragstart",function(a){z[a]=this.__origin__=x(a)}).on("drag",function(a){z[a]=Math.min(v,Math.max(0,this.__origin__+=d3.event.dx)),C.selectAll("g.datalines path").attr("d",k),t.sort(function(a,b){return j(a)-j(b)}),x.domain(t),C.selectAll("g.dimension").attr("transform",function(a){return"translate("+j(a)+")"})}).on("dragend",function(a){delete this.__origin__,delete z[a],d3.select(this).attr("transform","translate("+x(a)+")"),C.selectAll("g.datalines path").attr("d",k)})}function h(){d3.event.sourceEvent.stopPropagation()}function i(){var a=t.filter(function(a){return!y[a].brush.empty()}),b=a.map(function(a){return y[a].brush.extent()}),c=[];C.selectAll("g.datalines path").attr("class",function(d){var e=a.every(function(a,c){return b[c][0]<=d[a]&&d[a]<=b[c][1]});return e?(c.push(d),"active"):"filtered"});var d={};a.forEach(function(a,c){d[a]=b[c]});var e={element:A,selected:c,filters:d},f=new CustomEvent("changefilter",{detail:e});A.dispatchEvent(f)}function j(a){var b=z[a];return null==b?x(a):b}function k(a){return D(t.map(function(b){return[j(b),y[b](a[b])]}))}function l(a){z={},A=a.node(),B=a.datum(),t||(t=Object.keys(B[0])),x.domain(t),y={},t.forEach(function(a){y[a]=d3.scale.linear().range([w,0]).domain(s(a,B))}),C=a.selectAll("svg").data([B]).enter().append("svg").classed("parallel-coordinates-chart",!0).attr("width",n).attr("height",o);var b=C.append("g").attr("transform","translate("+m[3]+","+m[0]+")");b.append("g").classed("datalines",!0).selectAll("path").data(B).enter().append("path").attr("d",k);var c=b.selectAll(".dimension").data(t).enter().append("g").classed("dimension",!0).attr("transform",function(a){return"translate("+x(a)+")"}).call(g());return c.append("g").attr("class","axis").each(function(a){d3.select(this).call(E.scale(y[a]))}).append("text").attr("text-anchor","middle").attr("y",-9).text(String).on("click",function(a){d3.event.defaultPrevented||(a===p?a="":l.highlight(a))}),c.append("g").attr("class","brush").each(function(a){d3.select(this).call(y[a].brush=d3.svg.brush().y(y[a]).on("brushstart",h).on("brush",i))}).selectAll("rect").attr("x",-8).attr("width",16),l.highlight(p),l.filters(q),l}var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=d3.svg.axis().orient("left");return l.width=function(a){return arguments.length?(n=a,v=n-m[1]-m[3],x=d3.scale.ordinal().rangePoints([0,v],1),l):n},l.height=function(a){return arguments.length?(o=a,w=o-m[0]-m[2],l):o},l.margin=function(a){return arguments.length?(m=a,l.width(n),l.height(o),l):m},l.select=function(a){return arguments.length?(t=a,l):t},l.domain=function(a){return arguments.length?(s=a,l):s},l.color=function(a){return arguments.length?(r=a,l):r},l.interpolator=function(a){return arguments.length?(u=a,D=d3.svg.line().interpolate(u),l):u},l.highlight=function(a){return arguments.length?(p!==a&&(p=a,A&&A.dispatchEvent(new CustomEvent("changehighlight",{detail:{element:A,highlight:p}}))),f(C),l):p},l.filter=function(a,b){if(0!==arguments.length){var c=y[a].brush.extent();if(1===arguments.length){if(c[0]===c[1])return;return c}return b||(b=[0,0]),c[0]===b[0]&&c[1]===b[1]?l:(C.selectAll(" .brush").filter(function(b){return b===a}).call(y[a].brush.extent(b)).call(i),l)}},l.filters=function(a){q=a;var b={},c=Object.keys(y||{});if(c.forEach(function(a){y[a].brush.empty()||(b[a]=y[a].brush.extent())}),!arguments.length)return b;var d=c.every(function(c){return c in a?c in b?b[c][0]===a[c][0]&&b[c][1]===a[c][1]:!1:!(c in b)});return d?l:(c.forEach(function(b){b in a?y[b].brush.extent(a[b]):y[b].brush.clear()}),C.selectAll(" .brush").each(function(a){d3.select(this).call(y[a].brush)}),C.call(i),l)},l.redraw=function(a){return C&&C.remove(),l(a),l},l.draw=function(a){return l(a),l},b(a||{}),l}},{"./customEventPolyfill":2,"./defaultColorScaleGenerator":3,"./interpolator":4}],2:[function(){!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=window.Event.prototype,window.CustomEvent=a}()},{}],3:[function(a,b){b.exports=function(a,b){return d3.scale.linear().domain(d3.extent(b,function(b){return+b[a]})).range(["hsl(0, 60%, 50%)","hsl(255, 60%, 50%)"]).interpolate(d3.interpolateHsl)}},{}],4:[function(a,b){b.exports=function(a){for(var b,c="",d=[],e=0;e<a.length-1;e++)b=a[e],isNaN(b[1])?""!==c&&(c="M"):(d.push(c,b),c="L");return b=a[a.length-1],isNaN(b[1])||d.push(c,b),d.join("")}},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"parallel-coordinates-chart":[function(a,b){b.exports=a("8amN2b")},{}],3:[function(a,b){function c(a,b,c){var h=!0,i=!0;if(!e(a))throw new TypeError;return c===!1?h=!1:f(c)&&(h="leading"in c?c.leading:h,i="trailing"in c?c.trailing:i),g.leading=h,g.maxWait=b,g.trailing=i,d(a,b,g)}var d=a("lodash.debounce"),e=a("lodash.isfunction"),f=a("lodash.isobject"),g={leading:!1,maxWait:0,trailing:!1};b.exports=c},{"lodash.debounce":4,"lodash.isfunction":7,"lodash.isobject":8}],4:[function(a,b){function c(a,b,c){var h,i,j,k,l,m,n,o=0,p=!1,q=!0;if(!d(a))throw new TypeError;if(b=g(0,b)||0,c===!0){var r=!0;q=!1}else e(c)&&(r=c.leading,p="maxWait"in c&&(g(b,c.maxWait)||0),q="trailing"in c?c.trailing:q);var s=function(){var c=b-(f()-k);if(0>=c){i&&clearTimeout(i);var d=n;i=m=n=void 0,d&&(o=f(),j=a.apply(l,h),m||i||(h=l=null))}else m=setTimeout(s,c)},t=function(){m&&clearTimeout(m),i=m=n=void 0,(q||p!==b)&&(o=f(),j=a.apply(l,h),m||i||(h=l=null))};return function(){if(h=arguments,k=f(),l=this,n=q&&(m||!r),p===!1)var c=r&&!m;else{i||r||(o=k);var d=p-(k-o),e=0>=d;e?(i&&(i=clearTimeout(i)),o=k,j=a.apply(l,h)):i||(i=setTimeout(t,d))}return e&&m?m=clearTimeout(m):m||b===p||(m=setTimeout(s,b)),c&&(e=!0,j=a.apply(l,h)),!e||m||i||(h=l=null),j}}var d=a("lodash.isfunction"),e=a("lodash.isobject"),f=a("lodash.now"),g=Math.max;b.exports=c},{"lodash.isfunction":7,"lodash.isobject":8,"lodash.now":5}],5:[function(a,b){var c=a("lodash._isnative"),d=c(d=Date.now)&&d||function(){return(new Date).getTime()};b.exports=d},{"lodash._isnative":6}],6:[function(a,b){function c(a){return"function"==typeof a&&f.test(a)}var d=Object.prototype,e=d.toString,f=RegExp("^"+String(e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");b.exports=c},{}],7:[function(a,b){function c(a){return"function"==typeof a}b.exports=c},{}],8:[function(a,b){function c(a){return!(!a||!d[typeof a])}var d=a("lodash._objecttypes");b.exports=c},{"lodash._objecttypes":9}],9:[function(a,b){var c={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};b.exports=c},{}],10:[function(a){var b=a("parallel-coordinates-chart"),c=a("lodash.throttle");angular.module("parallelCoordinatesChart",[]).directive("parallelCoordinatesChart",function(){return{restrict:"E",scope:{values:"=",select:"=",config:"=",highlight:"=",filters:"=",width:"@",height:"@"},link:function(a,d,e){function f(){g&&k(j)}var g,h=b(),i=d[0],j=d3.select(i),k=c(h.redraw,16);d.on("changefilter",function(b){angular.equals(a.filters,b.detail.filters)||a.$apply(function(){a.filters=b.detail.filters})}),a.$watch("filters",function(a){h.filters(a||{})}),d.on("changehighlight",function(b){a.highlight!==b.detail.highlight&&a.$apply(function(){a.highlight=b.detail.highlight})}),a.$watch("highlight",function(a){h.highlight(a||""),f()}),a.$watch(e.select,function(a){void 0!==a&&(h.dimensions(a),f())}),e.$observe("width",function(a){(a||0===a)&&(h.width(a),f())}),e.$observe("height",function(a){(a||0===a)&&(h.height(a),f())}),a.$watch(e.config,function(a){a&&Object.keys(a).forEach(function(b){h[b](a[b])})}),a.$watch("values",function(a){a&&(g=a,j.datum(g).call(h.draw))})}}})},{"lodash.throttle":3,"parallel-coordinates-chart":"8amN2b"}]},{},[10])(10)});